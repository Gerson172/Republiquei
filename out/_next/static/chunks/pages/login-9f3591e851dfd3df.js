(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{3700:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return a(3238)}])},1608:function(e,t,a){"use strict";var r=a(5893),n=a(5697),s=a.n(n),o=a(9008),i=a.n(o);function l(e){let{title:t}=e;return(0,r.jsxs)(i(),{children:[(0,r.jsx)("title",{children:t}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.png"})]})}l.protoTypes={title:s().string.isRequired},t.Z=l},3238:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return g}});var r=a(5893),n=a(7533),s=a(5675),o=a.n(s),i=a(1664),l=a.n(i),c=a(1163),u=a.n(c),d=a(7536),m=a(4231);let h=m.Ry().shape({email:m.Z_().required("O campo email \xe9 obrigat\xf3rio"),senha:m.Z_().required("O campo password \xe9 obrigat\xf3rio").min(4,"A senha deve conter mais de 4 caracteres"),novasenha:m.Z_().oneOf([m.iH("senha"),null],"As senhas n\xe3o coincidem").required("O campo password \xe9 obrigat\xf3rio").min(4,"A senha deve conter mais de 4 caracteres")});var x=a(2920);a(1399);var f=a(1608),p=a(2464),g=function(){var e,t;let{register:a,handleSubmit:s,formState:{errors:i}}=(0,d.cI)({mode:"onBlur",resolver:(0,n.X)(h)}),c=async e=>{try{await p.n5.signIn(e,{}),setTimeout(()=>{u().push("/")},800)}catch(e){console.log("Erro ao fazer login:",e)}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.Z,{title:"Login"}),(0,r.jsx)(x.Ix,{}),(0,r.jsxs)("section",{className:"flex flex-col md:flex-row h-screen items-center",children:[(0,r.jsx)("div",{className:"hidden lg:block w-full md:w-1/2 xl:w-2/3 h-screen",children:(0,r.jsx)(o(),{src:"/login.jpg",alt:"",className:"w-full h-screen object-cover",width:800,height:600})}),(0,r.jsx)("div",{className:"bg-white w-full md:max-w-md lg:max-w-full md:mx-auto md:w-1/2 xl:w-1/3 h-screen px-6 lg:px-16 xl:px-12 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"w-full h-100",children:[(0,r.jsxs)("a",{className:"flex flex-row items-center gap-x-2",children:[(0,r.jsx)(o(),{src:"/favicon.png",width:70,height:70,alt:"logo"}),(0,r.jsx)("h2",{className:"text-4xl font-bold text-sky-500 uppercase",children:"Republiquei"})]}),(0,r.jsx)("h1",{className:"text-xl text-slate-950 md:text-2xl font-bold leading-tight mt-12",children:"Fa\xe7a login na sua conta"}),(0,r.jsxs)("form",{className:"mt-6",onSubmitCapture:s(c),children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block font-semibold text-gray-700",children:"Email"}),(0,r.jsx)("input",{...a("email"),type:"text",id:"email",autoComplete:"current-email",placeholder:"Insira o email",className:"w-full px-4 py-3 rounded-lg bg-gray-100 mt-2 border focus:border-blue-500 focus:bg-white focus:outline-none"}),i.email&&(0,r.jsx)("span",{className:"text-red-500 text-sm",children:null===(e=i.email)||void 0===e?void 0:e.message})]}),(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("label",{className:"block font-semibold text-gray-700",children:"Senha"}),(0,r.jsx)("input",{...a("senha"),type:"password",id:"senha",autoComplete:"current-password",placeholder:"Insira a senha",className:"w-full px-4 py-3 rounded-lg bg-gray-100 mt-2 border focus:border-blue-500 focus:bg-white focus:outline-none"}),i.senha&&(0,r.jsx)("span",{className:"text-red-500 text-sm",children:null===(t=i.senha)||void 0===t?void 0:t.message})]}),(0,r.jsx)("div",{className:"text-right mt-2",children:(0,r.jsx)(l(),{className:"text-sm font-semibold text-gray-900          hover:text-blue-700 focus:text-blue-700",href:"/confirmarEmail",children:"Esqueceu a senha?"})}),(0,r.jsx)("button",{type:"submit",className:"w-full bg-sky-500 hover:bg-sky-600          text-white font-semibold text-lg         shadow-xl drop-shadow-md rounded-lg p-4 mt-6 uppercase",children:"Entrar"})]}),(0,r.jsxs)("p",{className:"mt-8 text-center text-slate-950",children:["N\xe3o possui conta?",(0,r.jsx)(l(),{href:"/cadastrar",className:"text-sky-500 hover:text-sky-600 ml-1 font-semibold",children:"Criar uma conta"})]})]})})]})]})}},2464:function(e,t,a){"use strict";a.d(t,{kc:function(){return f},n5:function(){return h},hi:function(){return l},aF:function(){return x}});var r=a(6154),n=a(1752),s=a.n(n);let{publicRuntimeConfig:o}=s()(),{BACKEND_URL:i}=o,l=r.Z.create({baseURL:"".concat(i)});var c=a(7041),u=a(9464),d=a(2286),m=a(8767);class h{static async signIn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let{data:a}=await l.post("/Login/RealizarLogin",e);(0,d.destroyCookie)(t,u.S),(0,d.setCookie)(t,u.S,a.valor.acessToken,{path:"/",maxAge:6e5,sameSite:"none",secure:!0}),(0,d.setCookie)(t,u.t,a.valor.existeUsuario.id,{path:"/",maxAge:6e5,sameSite:"none",secure:!0})}catch(e){throw e}}static async getUser(e){let t=(0,c.getCookie)(u.S);if(t){let a={Authorization:"Bearer ".concat(t)};if(!e)return await l.get("/Usuario/ObterUsuarioPorId",{headers:a});{let t=await l.get("/Usuario/ObterUsuarioContatoPorId?IdUsuario=".concat(e),{headers:a});return t.data.valor}}}static async solicitarAlteracao(e){return await l.post("/Usuario/SolicitarAlteracao?Email=".concat(e))}static async redefinirSenha(e,t,a){return await l.post("/Usuario/RedefinirSenha?Email=".concat(e,"&NovaSenha=").concat(t,"&Token=")+a)}}let x=()=>{let e=(0,m.useQueryClient)(),t=(0,c.getCookie)(u.S),a=async()=>{if(t)try{let e=await h.getUser();return null==e?void 0:e.data.valor}catch(t){throw(0,d.destroyCookie)(null,u.S),e.removeQueries("user"),t}};return(0,m.useQuery)("user",a,{enabled:!!t})};class f{static async ObterImovel(){let e=await l.get("/Imovel/ObterImovel");return e.data.valor}static async MeusAnuncios(){let e=(0,c.getCookie)(u.S);if(e)return await l.get("/Imovel/ObterImovelPorUsuarioId",{headers:{Authorization:"Bearer ".concat(e)}})}static async ObterImovelPorId(e){let t=await l.get("/Imovel/ObterImovelPorId?IdImovel="+String(e));return t.data.valor}static async editarMeusAnuncios(e){let t=(0,c.getCookie)(u.S);return l.put("/Imovel/AtualizarImovel?IdImovel=".concat(e),{headers:{Authorization:"Bearer ".concat(t)}})}static async ExcluirMeusAnuncios(e){let t=(0,c.getCookie)(u.S);return l.delete("/Imovel/DeletarImovelPorId?IdImovel=".concat(e),{headers:{Authorization:"Bearer ".concat(t)}})}}},9464:function(e,t,a){"use strict";a.d(t,{S:function(){return r},t:function(){return n}});let r="TOKEN",n="USUARIO"},1399:function(){},2703:function(e,t,a){"use strict";var r=a(414);function n(){}function s(){}s.resetWarningCache=n,e.exports=function(){function e(e,t,a,n,s,o){if(o!==r){var i=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var a={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:n};return a.PropTypes=a,a}},5697:function(e,t,a){e.exports=a(2703)()},414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},function(e){e.O(0,[86,818,437,774,888,179],function(){return e(e.s=3700)}),_N_E=e.O()}]);